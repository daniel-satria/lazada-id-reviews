schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/LazadaIDReviews/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 935b0b01d1155e089e4ce4ffe989b711
      size: 1447
    - path: src/LazadaIDReviews/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 950a7fd1d5f93e6520fd2177ac4606de
      size: 1059
    outs:
    - path: artifacts/data-ingestion/category.csv
      hash: md5
      md5: f2d30f003184cb08be4c54ca71bc7684
      size: 135
    - path: artifacts/data-ingestion/items.csv
      hash: md5
      md5: 695004117cec3bd55e4e302355b241d0
      size: 3006906
    - path: artifacts/data-ingestion/reviews.csv
      hash: md5
      md5: 933e6b21120c964adffe9e90680985c4
      size: 28743920
  preprocessing:
    cmd: python src/LazadaIDReviews/pipeline/stage_02_preprocessing.py
    deps:
    - path: artifacts/data-ingestion/reviews.csv
      hash: md5
      md5: 933e6b21120c964adffe9e90680985c4
      size: 28743920
    - path: config/config.yaml
      hash: md5
      md5: 935b0b01d1155e089e4ce4ffe989b711
      size: 1447
    - path: src/LazadaIDReviews/pipeline/stage_02_preprocessing.py
      hash: md5
      md5: 2af5ddfc5405ced40cc9ccf30e4e2957
      size: 1461
    params:
      metrics/params.yaml:
        TEST_SIZE: 0.8
    outs:
    - path: artifacts/data/X_test.pkl
      hash: md5
      md5: 6293f173886dacd453f34b2dce567d8d
      size: 7835819
    - path: artifacts/data/X_train.pkl
      hash: md5
      md5: 25e327ec89bd2a9656895bd57e7defa5
      size: 2085324
    - path: artifacts/data/y_test.pkl
      hash: md5
      md5: 96ea1100abdde4e539fa7e40538992d8
      size: 2055573
    - path: artifacts/data/y_train.pkl
      hash: md5
      md5: 9d4d2f784ce43034953be0e53e36a848
      size: 664455
    - path: artifacts/models/vectorizer.pkl
      hash: md5
      md5: 3a96d6137c63df6fa43372978cd1fa1a
      size: 391214
    - path: artifacts/preprocessing/X_test_vec.pkl
      hash: md5
      md5: 3c1b02bdec5bc152a91f0f8f9182b083
      size: 12138891
    - path: artifacts/preprocessing/X_train_vec.pkl
      hash: md5
      md5: c92648cee1ab24c27d498046dbeb0bbc
      size: 14993987
  training:
    cmd: python src/LazadaIDReviews/pipeline/stage_03_train_model.py
    deps:
    - path: artifacts/data/y_train.pkl
      hash: md5
      md5: 9d4d2f784ce43034953be0e53e36a848
      size: 664455
    - path: artifacts/preprocessing/X_train_vec.pkl
      hash: md5
      md5: c92648cee1ab24c27d498046dbeb0bbc
      size: 14993987
    - path: config/config.yaml
      hash: md5
      md5: 935b0b01d1155e089e4ce4ffe989b711
      size: 1447
    - path: src/LazadaIDReviews/pipeline/stage_03_train_model.py
      hash: md5
      md5: a9dc7731062b23c8a3145cb6c437fcda
      size: 1014
    params:
      metrics/params.yaml:
        MAX_ITER: 100
        N_JOBS: -1
        SOLVER: lbfgs
    outs:
    - path: artifacts/models/logistic_regression.pkl
      hash: md5
      md5: f17d6e81064261542e8c6a9708a8b067
      size: 546773
  evaluation:
    cmd: python src/LazadaIDReviews/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data/X_test.pkl
      hash: md5
      md5: 6293f173886dacd453f34b2dce567d8d
      size: 7835819
    - path: artifacts/data/X_train.pkl
      hash: md5
      md5: 25e327ec89bd2a9656895bd57e7defa5
      size: 2085324
    - path: artifacts/data/y_train.pkl
      hash: md5
      md5: 9d4d2f784ce43034953be0e53e36a848
      size: 664455
    - path: artifacts/models/logistic_regression.pkl
      hash: md5
      md5: f17d6e81064261542e8c6a9708a8b067
      size: 546773
    - path: artifacts/preprocessing/X_train_vec.pkl
      hash: md5
      md5: c92648cee1ab24c27d498046dbeb0bbc
      size: 14993987
    - path: config/config.yaml
      hash: md5
      md5: 935b0b01d1155e089e4ce4ffe989b711
      size: 1447
    - path: src/LazadaIDReviews/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: 25a1949341d0828e07f105fe2428c588
      size: 1039
    outs:
    - path: metrics/scores.json
      hash: md5
      md5: 04bdf805b9c1e67769a48cbda5134cf3
      size: 1200
